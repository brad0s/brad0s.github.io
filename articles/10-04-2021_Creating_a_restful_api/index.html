<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.af98c1505ab7c62932bf.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Roboto Mono;font-style:normal;font-weight:100;src:local("Roboto Mono Thin "),local("Roboto Mono-Thin"),url(/static/roboto-mono-latin-100-7f7e9cd596438fea4b02e3c9b21a92b5.woff2) format("woff2"),url(/static/roboto-mono-latin-100-da65dcd09cdc4863ece2402e959bfe70.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:italic;font-weight:100;src:local("Roboto Mono Thin italic"),local("Roboto Mono-Thinitalic"),url(/static/roboto-mono-latin-100italic-d97850bb044fb5584361aa00e3c596f6.woff2) format("woff2"),url(/static/roboto-mono-latin-100italic-16b1558858fe1064b5af8cc6c1c4dbf3.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:normal;font-weight:200;src:local("Roboto Mono Extra Light "),local("Roboto Mono-Extra Light"),url(/static/roboto-mono-latin-200-969a44e1b6fc26105bd6fc5cc0c9a3bd.woff2) format("woff2"),url(/static/roboto-mono-latin-200-640f8692dc49a19f15412c3d3cf7ff2f.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:italic;font-weight:200;src:local("Roboto Mono Extra Light italic"),local("Roboto Mono-Extra Lightitalic"),url(/static/roboto-mono-latin-200italic-9216be4e13fe7dbe70efe51c7872b1f0.woff2) format("woff2"),url(/static/roboto-mono-latin-200italic-ca100b2be6274105bb160594a4c984e4.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:normal;font-weight:300;src:local("Roboto Mono Light "),local("Roboto Mono-Light"),url(/static/roboto-mono-latin-300-bfe6eaec56c141a0bd7227262d1e249e.woff2) format("woff2"),url(/static/roboto-mono-latin-300-2900d24e7347deaf65cd76c5294d5bc4.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:italic;font-weight:300;src:local("Roboto Mono Light italic"),local("Roboto Mono-Lightitalic"),url(/static/roboto-mono-latin-300italic-cc9e42999888377183f88eb10cf2919d.woff2) format("woff2"),url(/static/roboto-mono-latin-300italic-24a9d3bbf9b715214bf5e83e33574b56.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:normal;font-weight:400;src:local("Roboto Mono Regular "),local("Roboto Mono-Regular"),url(/static/roboto-mono-latin-400-535bc89d4af715503b01afd761501e58.woff2) format("woff2"),url(/static/roboto-mono-latin-400-498042b7fe9cd07b4fd11a0965093e55.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:italic;font-weight:400;src:local("Roboto Mono Regular italic"),local("Roboto Mono-Regularitalic"),url(/static/roboto-mono-latin-400italic-b39a11f9a6107e57a21f0c399cd3218b.woff2) format("woff2"),url(/static/roboto-mono-latin-400italic-1ce08cfde36c0d81af5b60c1a4ab895e.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:normal;font-weight:500;src:local("Roboto Mono Medium "),local("Roboto Mono-Medium"),url(/static/roboto-mono-latin-500-c1f17364fee75703a7eefdc41120adcc.woff2) format("woff2"),url(/static/roboto-mono-latin-500-2ed4651232a34d737777674fb9b2dbf7.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:italic;font-weight:500;src:local("Roboto Mono Medium italic"),local("Roboto Mono-Mediumitalic"),url(/static/roboto-mono-latin-500italic-51aa168dd4ba03bd83f0a799c11a705d.woff2) format("woff2"),url(/static/roboto-mono-latin-500italic-79f21d796f266ce0ea70e74a7fc7b11b.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:normal;font-weight:600;src:local("Roboto Mono SemiBold "),local("Roboto Mono-SemiBold"),url(/static/roboto-mono-latin-600-ff2c5c919a01e9ddda8532d1a8bbb4c9.woff2) format("woff2"),url(/static/roboto-mono-latin-600-bbbf6951525a78fff340f2c42c3ba853.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:italic;font-weight:600;src:local("Roboto Mono SemiBold italic"),local("Roboto Mono-SemiBolditalic"),url(/static/roboto-mono-latin-600italic-53b43867955fbecc811a82030cefe8a4.woff2) format("woff2"),url(/static/roboto-mono-latin-600italic-213eedde97d22010287cf492a821e563.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:normal;font-weight:700;src:local("Roboto Mono Bold "),local("Roboto Mono-Bold"),url(/static/roboto-mono-latin-700-c5c3959c04004102ea46462160ada846.woff2) format("woff2"),url(/static/roboto-mono-latin-700-eba647ae67ba7dc20f05d588ba823ded.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto Mono;font-style:italic;font-weight:700;src:local("Roboto Mono Bold italic"),local("Roboto Mono-Bolditalic"),url(/static/roboto-mono-latin-700italic-bc628a95b5026af0df2ce793f7d71106.woff2) format("woff2"),url(/static/roboto-mono-latin-700italic-bf4b4e73015a3066da91b7f394a6ff70.woff) format("woff")}


/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:Roboto,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Roboto Mono",monospace;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#00d68e;--color-text:#fdfdfd;--color-text-light:#bababa;--color-heading:#c495fc;--color-heading-black:#f3f5f6;--color-accent:#c495fc;--color-background:#212121;--color-background-secondary:#474747}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{background-color:var(--color-background);color:var(--color-text);font-family:var(--font-body);font-size:var(--fontSize-1);letter-spacing:-.025em}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);background:linear-gradient(164deg,var(--color-primary) 30%,var(--color-accent) 85%);border:0;height:1px}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12);text-transform:lowercase}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{-webkit-text-fill-color:transparent;background:-webkit-linear-gradient(45deg,var(--color-primary) 20%,var(--color-heading) 50%);-webkit-background-clip:text;font-size:var(--fontSize-6);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-0);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}article>header{margin-bottom:var(--spacing-8)}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p{margin-bottom:var(--spacing-0)}.post-list-item h2{color:var(--color-primary);font-size:var(--fontSize-4);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-family:var(--font-heading);font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none;text-transform:lowercase}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio-avatar,.bio p{margin-bottom:var(--spacing-0)}.bio-avatar{border-radius:50%;margin-right:var(--spacing-4);min-width:50px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-family:var(--font-heading);font-size:var(--fontSize-2)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}.footer{justify-content:space-between}.footer,.tags{display:flex}.tags>div{background-color:var(--color-background-secondary);border-radius:3px;color:var(--color-text);font-size:var(--fontSize-0);margin:var(--spacing-1);padding:var(--spacing-1)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}.footer{align-items:center;display:flex;flex-wrap:wrap-reverse;justify-content:center}.footer>div{flex-grow:1;text-align:center}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 3.13.1"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=79bb68e3bd48124e1a04b461132fba6f" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=79bb68e3bd48124e1a04b461132fba6f"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=79bb68e3bd48124e1a04b461132fba6f"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=79bb68e3bd48124e1a04b461132fba6f"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=79bb68e3bd48124e1a04b461132fba6f"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=79bb68e3bd48124e1a04b461132fba6f"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=79bb68e3bd48124e1a04b461132fba6f"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=79bb68e3bd48124e1a04b461132fba6f"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=79bb68e3bd48124e1a04b461132fba6f"/><title data-react-helmet="true">Creating a rest crud api with node, express &amp; mongoose | Brados Blogs</title><meta data-react-helmet="true" name="description" content="Simple example of how to create a rest crud api using node, express and mongoose. I show to create an api for movies and have code exmaples so it&#x27;s easy to follow along."/><meta data-react-helmet="true" property="og:title" content="Creating a rest crud api with node, express &amp; mongoose"/><meta data-react-helmet="true" property="og:description" content="Simple example of how to create a rest crud api using node, express and mongoose. I show to create an api for movies and have code exmaples so it&#x27;s easy to follow along."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Braden23763605"/><meta data-react-helmet="true" name="twitter:title" content="Creating a rest crud api with node, express &amp; mongoose"/><meta data-react-helmet="true" name="twitter:description" content="Simple example of how to create a rest crud api using node, express and mongoose. I show to create an api for movies and have code exmaples so it&#x27;s easy to follow along."/><link as="script" rel="preload" href="/webpack-runtime-a2051ab7f45079920fa8.js"/><link as="script" rel="preload" href="/framework-cf5212c73f65bdd9ee4a.js"/><link as="script" rel="preload" href="/app-36b5580612c5bac90cd8.js"/><link as="script" rel="preload" href="/commons-69a2e1a158d1cf8bc945.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-9bce82e63da9cd73203d.js"/><link as="fetch" rel="preload" href="/page-data/articles/10-04-2021_Creating_a_restful_api/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2841359383.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3257411868.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper" data-is-root-path="false"><header class="global-header"><a class="header-link-home" href="/">Brados Blogs</a></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">Creating a rest crud api with node, express &amp; mongoose</h1><div><small>October 04, 2021</small><small> ‚Ä¢ <!-- -->6<!-- --> min read</small><div class="tags"><div>javascript</div><div>node</div><div>express</div><div>mongoose</div><div>mongodb</div></div></div></header><section itemProp="articleBody"><p>In this post, I‚Äôm going to go over a simple Rest CRUD Api using node, express and mongoose. Rest api‚Äôs are great for integrating a backend into any application. Today, it is crucial to learning how to use and build api‚Äôs for any developer.</p>
<p>We will create a movies api that will allow us to create, read, update and delete movies by making http requests to the api.</p>
<h2>Set up</h2>
<ol>
<li>
<p>Create a new directory. I will call mine <code class="language-text">restApi</code> and then cd into the directory.</p>
</li>
<li>
<p>In the command line, type</p>
<div class="gatsby-highlight" data-language="zsh"><pre class="language-zsh"><code class="language-zsh">npm init -y</code></pre></div>
<p>This will generate a <code class="language-text">package.json</code> file.</p>
<ul>
<li>In the <code class="language-text">package.json</code> file add <code class="language-text">"type": "module"</code> to the file. This will allows us to use import statements.</li>
<li>Create a new script by adding <code class="language-text">"dev": "nodemon server.js",</code> in the script object.</li>
</ul>
</li>
</ol>
<p>Now let‚Äôs add our dependencies.</p>
<ol start="3">
<li>
<p>In the command line run</p>
<div class="gatsby-highlight" data-language="zsh"><pre class="language-zsh"><code class="language-zsh">npm install express mongoose</code></pre></div>
<p>Express helps us create web applications and services. Mongoose is an Object Data Modeling library that sits on top of mongodb. It manages lots of stuff for mongodb and makes it easier to work with üëç.</p>
</li>
<li>
<p>Now, we need to install dev dependencies. Enter</p>
<div class="gatsby-highlight" data-language="zsh"><pre class="language-zsh"><code class="language-zsh">npm install --save-dev nodemon dotenv</code></pre></div>
<p>in the command line. Nodemon is like a watcher for our server that restarts the server whenever we make a change to it. Dotenv allows us to us a <code class="language-text">.env</code> file to store our secure information.<br>
Our <code class="language-text">.env</code> file it should look like this:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text"> DATABASE_URL = mongodb://localhost/movies
 PORT = 3000</code></pre></div>
<p>Make sure <code class="language-text">package.json</code> looks like this:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">  <span class="token punctuation">{</span>
  <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"productsApi"</span><span class="token punctuation">,</span>
  <span class="token string">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token string">"description"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token string">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>
  <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
  <span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span><span class="token punctuation">,</span>
    <span class="token string">"dev"</span><span class="token operator">:</span> <span class="token string">"nodemon server.js"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"keywords"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"author"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token string">"license"</span><span class="token operator">:</span> <span class="token string">"ISC"</span><span class="token punctuation">,</span>
  <span class="token string">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"express"</span><span class="token operator">:</span> <span class="token string">"^4.17.1"</span><span class="token punctuation">,</span>
    <span class="token string">"mongoose"</span><span class="token operator">:</span> <span class="token string">"^6.0.9"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"dotenv"</span><span class="token operator">:</span> <span class="token string">"^10.0.0"</span><span class="token punctuation">,</span>
    <span class="token string">"nodemon"</span><span class="token operator">:</span> <span class="token string">"^2.0.13"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
</li>
<li>
<p>Now in the project root, create the file <code class="language-text">server.js</code>. This the root file for our server. Copy the code below into <code class="language-text">server.js</code>:</p>
</li>
</ol>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">"express"</span>
<span class="token keyword">import</span> mongoose <span class="token keyword">from</span> <span class="token string">"mongoose"</span>
<span class="token keyword">import</span> dotenv <span class="token keyword">from</span> <span class="token string">"dotenv"</span>
dotenv<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span></code></pre></div>
<ul>
<li><code class="language-text">app.get()</code> is handling any get requests at the base of our url and returning a response of <code class="language-text">"Hello world"</code></li>
<li><code class="language-text">app.listen()</code> is where we tell our server to listen to the traffic at our url on the port defined in our <code class="language-text">.env</code>.</li>
</ul>
<p>Now that our setup is complete, you can run <code class="language-text">npm run dev</code> in the command line to start the server.</p>
<div class="gatsby-highlight" data-language="zsh"><pre class="language-zsh"><code class="language-zsh">&gt; nodemon server.js

 [nodemon] 2.0.13
 [nodemon] to restart at any time, enter `rs`
 [nodemon] watching path(s): _._
 [nodemon] watching extensions: js,mjs,json
 [nodemon] starting `node server.js`
 listening on port 3000...</code></pre></div>
<h2>Connecting our db with mongoose</h2>
<p><a href="https://mongoosejs.com/docs/guides.html">Mongoose</a> let‚Äôs use a schema based approach to modeling our applicaiton data. It is easy to use and takes little code as well! We‚Äôll connect our db with <code class="language-text">mongoose.connect()</code>.<br>
Modify <code class="language-text">server.js</code>:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">"express"</span>
<span class="token keyword">import</span> mongoose <span class="token keyword">from</span> <span class="token string">"mongoose"</span>
<span class="token keyword">import</span> dotenv <span class="token keyword">from</span> <span class="token string">"dotenv"</span>
dotenv<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> moviesRouter <span class="token keyword">from</span> <span class="token string">"./routes/movies.route.js"</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DATABASE_URI</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> db <span class="token operator">=</span> mongoose<span class="token punctuation">.</span>connection
db<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">DB connected!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">"/movies"</span><span class="token punctuation">,</span> moviesRouter<span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span></code></pre></div>
<p>We use <code class="language-text">mongoose.connect()</code> to make a connection with the database. We define the connection as <code class="language-text">db</code> and we call two functions <code class="language-text">on</code> and <code class="language-text">once</code>. <code class="language-text">on</code> runs whenever we get an error with our database. <code class="language-text">once</code> runs when we first open our database and tell us that we have made a successful connection.</p>
<p>Now if your server is running (start the server if it‚Äôs not already running: <code class="language-text">npm run dev</code>), and you should see it reload and print out <code class="language-text">"DB connected!"</code> üòÅ</p>
<h2>Implement Mongoose</h2>
<h3>Create Schema</h3>
<p>Everything in mongoose starts with a schema and each schema maps to a collection in mongodb and defines the document. We will create a schema and define our movie with the our fields: <code class="language-text">title</code>, <code class="language-text">year</code> and <code class="language-text">rating</code>.</p>
<h3>Model</h3>
<p>After we create the schema, we can convert the schema into a Model. A model instance is a document from a collection. Models are used to create and read documents from our mongodb database. They also come with a bunch of helper functions that we can use like <code class="language-text">find()</code>, <code class="language-text">findById()</code>, etc.</p>
<p>Create a new file <code class="language-text">/models/Movies.js</code>:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> mongoose <span class="token keyword">from</span> <span class="token string">"mongoose"</span>

<span class="token keyword">const</span> movieSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mongoose<span class="token punctuation">.</span>Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token operator">:</span> String<span class="token punctuation">,</span>
  year<span class="token operator">:</span> String<span class="token punctuation">,</span>
  rating<span class="token operator">:</span> String<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> Movie <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">"Movie"</span><span class="token punctuation">,</span> movieSchema<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Movie</code></pre></div>
<p>Here we import mongoose so we can use <code class="language-text">Schema</code> and <code class="language-text">Model</code>. We define the schema for our movie. Then we create a model with the schema to use.</p>
<h2>Creating routes</h2>
<p>We need to create a routes file that maps the http requests to crud functions that make the calls from the database.<br>
Create a new file <code class="language-text">routes/movies.route.js</code>:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">"express"</span>
<span class="token keyword">import</span> Movie <span class="token keyword">from</span> <span class="token string">"../models/Movie.js"</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// getMovie middleware</span>
<span class="token keyword">const</span> <span class="token function-variable function">getMovie</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> movie
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    movie <span class="token operator">=</span> <span class="token keyword">await</span> Movie<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>movie <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> res
        <span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Cannot find movie with id: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> error<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  res<span class="token punctuation">.</span>movie <span class="token operator">=</span> movie
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// list</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token keyword">await</span> Movie<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> error<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// get one</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/:id"</span><span class="token punctuation">,</span> getMovie<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>movie<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// create</span>
router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> movie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Movie</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    title<span class="token operator">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
    year<span class="token operator">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>year<span class="token punctuation">,</span>
    rating<span class="token operator">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>rating<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newMovie <span class="token operator">=</span> <span class="token keyword">await</span> movie<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>newMovie<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> error<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// update</span>
router<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"/:id"</span><span class="token punctuation">,</span> getMovie<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> updatedMovie <span class="token operator">=</span> <span class="token keyword">await</span> res<span class="token punctuation">.</span>movie<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>updatedMovie<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> error<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// delete</span>
router<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">"/:id"</span><span class="token punctuation">,</span> getMovie<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> res<span class="token punctuation">.</span>movie<span class="token punctuation">.</span><span class="token function">deleteOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Deleted movie: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> error<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router</code></pre></div>
<ul>
<li><code class="language-text">getMovie()</code> is a middleware that we will use to find the movie by id for the methods that need it.</li>
<li><code class="language-text">express.Router()</code> <a href="https://expressjs.com/en/4x/api.html#router">gives us http method routes like <code class="language-text">GET</code>, <code class="language-text">PUT</code>, <code class="language-text">POST</code>, etc.</a></li>
<li><code class="language-text">router.get('/')</code> lists all of the movies</li>
<li><code class="language-text">router.get('/:id')</code> gets a single movie by id</li>
<li><code class="language-text">router.post('/')</code> creates a new movie</li>
<li><code class="language-text">router.put('/:id')</code> updates a movie by id</li>
<li><code class="language-text">router.delete('/:id')</code> deletes a movies by id</li>
</ul>
<p>More info on <a href="https://mongoosejs.com/docs/queries.html">mongoose querys</a> and <a href="https://expressjs.com/en/guide/routing.html">express routing</a></p>
<p>Now if you use a http test client you will be able to use the rest api.</p>
<p>In VSCode you can use <a href="https://marketplace.visualstudio.com/items?itemName=humao.rest-client">Rest client</a>, to check your api. Download and install Rest client, then create a <code class="language-text">route.rest</code> file and put this code in:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">POST http://localhost:3000/movies
Content-Type: application/json

{
  "title": "Fantastic Mr. Fox",
  "year": "2009",
  "rating": 7.9
}</code></pre></div>
<p>This lets us create movies. Create a few more!
Then you can use</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">GET http://localhost:3000/movies</code></pre></div>
<p>This will list all of the movies.
You can test out the endpoints as well.</p>
<h2>Summary</h2>
<p>In this article, I covered how to create a rest api using node, express and mongoose. We set up our dependencies using npm and then create the our <code class="language-text">server.js</code> file. We defined our <code class="language-text">Schema</code> and turned it into a <code class="language-text">Model</code> so that we could use it to interact with our db. Then we set up our CRUD routes and were able to test it using a http test client.</p>
<p>Refer to my code on <a href="https://github.com/brad0s/productsAPI_example">github</a>.</p></section><hr/><footer><div class="bio"><div data-gatsby-image-wrapper="" style="width:50px;height:50px" class="gatsby-image-wrapper bio-avatar"><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#181808;width:50px;height:50px;position:relative"></div><picture><source type="image/avif" data-srcset="/static/73f1427cdf7031538e33052aa1240c7a/d4bf4/profile-pic.avif 50w,/static/73f1427cdf7031538e33052aa1240c7a/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" data-srcset="/static/73f1427cdf7031538e33052aa1240c7a/3faea/profile-pic.webp 50w,/static/73f1427cdf7031538e33052aa1240c7a/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" data-src="/static/73f1427cdf7031538e33052aa1240c7a/e5610/profile-pic.png" data-srcset="/static/73f1427cdf7031538e33052aa1240c7a/e5610/profile-pic.png 50w,/static/73f1427cdf7031538e33052aa1240c7a/e9b55/profile-pic.png 100w" alt="Profile picture"/></picture><noscript><picture><source type="image/avif" srcSet="/static/73f1427cdf7031538e33052aa1240c7a/d4bf4/profile-pic.avif 50w,/static/73f1427cdf7031538e33052aa1240c7a/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" srcSet="/static/73f1427cdf7031538e33052aa1240c7a/3faea/profile-pic.webp 50w,/static/73f1427cdf7031538e33052aa1240c7a/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" src="/static/73f1427cdf7031538e33052aa1240c7a/e5610/profile-pic.png" srcSet="/static/73f1427cdf7031538e33052aa1240c7a/e5610/profile-pic.png 50w,/static/73f1427cdf7031538e33052aa1240c7a/e9b55/profile-pic.png 100w" alt="Profile picture"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p>Written by <strong>Braden Wright</strong> <!-- -->who is striving to become a developer üë®üèº‚Äçüíª.<!-- --> <a href="https://twitter.com/Braden23763605">You should follow him on Twitter</a></p></div></footer></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/articles/10-04-2021_Creating_a_restful_api/articles/09-28-2021_ES6-cheat-sheet">‚Üê <!-- -->ES6 cheat sheet</a></li><li></li></ul></nav></main><footer class="footer">¬© <!-- -->2021<!-- --> Braden Wright<div><a href="https://bradenwrightportfolio.gatsbyjs.io/">portfolio</a> <!-- -->‚Ä¢¬†<a href="https://github.com/brad0s">github</a> ‚Ä¢¬†<a href="https://twitter.com/Braden23763605">twitter</a> ‚Ä¢¬†<a href="https://www.linkedin.com/in/wright-braden/">linkedin</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/articles/10-04-2021_Creating_a_restful_api/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-af61bce6510bfff034c3.js"],"app":["/app-36b5580612c5bac90cd8.js"],"component---src-pages-404-js":["/component---src-pages-404-js-92cf2013ecb4628a95cd.js"],"component---src-pages-index-js":["/component---src-pages-index-js-23a3ed5c1efadbca6019.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-9bce82e63da9cd73203d.js"]};/*]]>*/</script><script src="/polyfill-af61bce6510bfff034c3.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-9bce82e63da9cd73203d.js" async=""></script><script src="/commons-69a2e1a158d1cf8bc945.js" async=""></script><script src="/app-36b5580612c5bac90cd8.js" async=""></script><script src="/framework-cf5212c73f65bdd9ee4a.js" async=""></script><script src="/webpack-runtime-a2051ab7f45079920fa8.js" async=""></script></body></html>